<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Down-sampling of repertoires — sampleRepSeqExp • AnalyzAIRR</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Down-sampling of repertoires — sampleRepSeqExp"><meta name="description" content="This function downsamples all repertoires in the dataset.
Users can choose the value to which all the samples are down-sampled.
If not specified, the lowest number of sequences across all samples within
the dataset will be used.
This strategy can be applied when studying different cell subsets with
significant differences in their repertoire sizes."><meta property="og:description" content="This function downsamples all repertoires in the dataset.
Users can choose the value to which all the samples are down-sampled.
If not specified, the lowest number of sequences across all samples within
the dataset will be used.
This strategy can be applied when studying different cell subsets with
significant differences in their repertoire sizes."><meta property="og:image" content="https://i3-unit.github.io/AnalyzAIRR/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">AnalyzAIRR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorial" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorial</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorial"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Getting started</h6></li>
    <li><a class="dropdown-item" href="../articles/gettingstarted.html">Installation</a></li>
    <li><a class="dropdown-item" href="../articles/dataloading.html">Data loading</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Comprehensive data exploration</h6></li>
    <li><a class="dropdown-item" href="../articles/exploratory.html">Exploratory analysis</a></li>
    <li><a class="dropdown-item" href="../articles/onesample.html">One-sample analysis</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced data manipulation</h6></li>
    <li><a class="dropdown-item" href="../articles/datamanipulation.html">Data filtering</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>In-depth cross-sample comparison</h6></li>
    <li><a class="dropdown-item" href="../articles/datanormalization.html">Data normalization</a></li>
    <li><a class="dropdown-item" href="../articles/multisample.html">Multi-sample analysis</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Interactive AIRR data analysis</h6></li>
    <li><a class="dropdown-item" href="../articles/shiny.html">Shiny-AnalyzAIRR</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/i3-unit/AnalyzAIRR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Down-sampling of repertoires</h1>
      <small class="dont-index">Source: <a href="https://github.com/i3-unit/AnalyzAIRR/blob/master/R/diversityFunctions.R" class="external-link"><code>R/diversityFunctions.R</code></a></small>
      <div class="d-none name"><code>sampleRepSeqExp.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function downsamples all repertoires in the dataset.</p>
<p>Users can choose the value to which all the samples are down-sampled.
If not specified, the lowest number of sequences across all samples within
the dataset will be used.</p>
<p>This strategy can be applied when studying different cell subsets with
significant differences in their repertoire sizes.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sampleRepSeqExp</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  sample.size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fu"><a href="RepSeqExperiment-class.html">mData</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">$</span><span class="va">nSequences</span><span class="op">)</span>,</span>
<span>  rngseed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  replace <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>an object of class <code><a href="RepSeqExperiment-class.html">RepSeqExperiment</a></code></p></dd>


<dt id="arg-sample-size">sample.size<a class="anchor" aria-label="anchor" href="#arg-sample-size"></a></dt>
<dd><p>an integer indicating the desired down-sampled size.
The default is the smallest repertoire size among all samples of the dataset.</p></dd>


<dt id="arg-rngseed">rngseed<a class="anchor" aria-label="anchor" href="#arg-rngseed"></a></dt>
<dd><p>a integer used as seed for a reproducible result.</p></dd>


<dt id="arg-replace">replace<a class="anchor" aria-label="anchor" href="#arg-replace"></a></dt>
<dd><p>a boolean indicating if the resampling should be performed
with or without replacement. Default is TRUE.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>a boolean indicating whether or not to show the details of
every computation step within the function. Default is TRUE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a new <code><a href="RepSeqExperiment-class.html">RepSeqExperiment</a></code>  with the downsized data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">RepSeqData</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">RepSeqData_ds</span><span class="op">&lt;-</span> <span class="fu">sampleRepSeqExp</span><span class="op">(</span>x <span class="op">=</span> <span class="va">RepSeqData</span>,</span></span>
<span class="r-in"><span>                                rngseed <span class="op">=</span> <span class="fl">1234</span>,</span></span>
<span class="r-in"><span>                                replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> `set.seed( 1234 )` was applied for reproducibility of the random subsampling. Please save this seed for data reproduction </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> You can try `set.seed( 1234 ); .Random.seed` for the full vector.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Down-sampling to 386373 sequences...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Creating a RepSeqExperiment object...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Done.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">RepSeqData_ds</span><span class="op">&lt;-</span> <span class="fu">sampleRepSeqExp</span><span class="op">(</span>x <span class="op">=</span> <span class="va">RepSeqData</span>,</span></span>
<span class="r-in"><span>                                rngseed <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                                replace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> You set `rngseed` to FALSE. Make sure you've set &amp; saved</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   the random seed of your session for reproducibility.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  See `?set.seed`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Down-sampling to 386373 sequences...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Creating a RepSeqExperiment object...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Done.</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vanessa Mhanna, Gabriel Pires, Grégoire Bohl, Karim El Soufi, Nicolas Tchitchek, David Klatzmann, Adrien Six, Hang-Phuong Pham, Encarnita Mariotti-Ferrandiz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

